<html>
<head>
  <title>f00215.html</title>
  <link rel="stylesheet" type="text/css" href="themes/blue/style.css"/>
  <link rel="stylesheet" type="text/css" href="jquery.treeTable.css"/>
  <link rel="stylesheet" type="text/css" href="style.css"/>
  <script type="text/javascript" src="jquery.js"></script>
  <script type="text/javascript" src="jquery.cookie.js"></script>
  <script type="text/javascript" src="jquery.hotkeys.js"></script>
  <script type="text/javascript" src="jquery.jstree.js"></script>
  <script type="text/javascript" src="jquery.tablesorter.js"></script>
  <script type="text/javascript" src="jquery.tablednd.js"></script>
  <script type="text/javascript" src="jquery.treeTable.js"></script>
  <script type="text/javascript" src="jquery.flot.js"></script>
  <script type="text/javascript" src="jquery.flot.navigate.js"></script>
  <script type="text/javascript" src="jquery.flot.selection.js"></script>
  <script type="text/javascript" src="colResizable-1.3.source.js"></script>
  <script type="text/javascript" src="main.js"></script>
</head>
<body>
<a name="ch0"></a><div class="btn-pop-out"><a href="f00215.html#ch0" target="_blank"><img src="ic_pop_out.png"/></a></div><h1>Battery level - interactive chart</h1>
<h1>!!! UNDER CONSTRUCTION !!!</h1>
<button id="zoomOutBtn">Zoom out</button>
<div id="chart" style="width: 800px; height: 400px;"></div>
<div id="chart3" style="width: 800px; height: 25px;"></div>
<script type="text/javascript">
$(function(){
function fixSize(plot,canvas,expW) {
  canvas.width(canvas.width() + expW - plot.width());
  plot.resize();
  plot.setupGrid();
  plot.draw();
}
function onZoomSelection(event, ranges) {
  plot = $.plot(chart, data,
                $.extend(true, {}, options, {
                    xaxis: { min: ranges.xaxis.from, max: ranges.xaxis.to }
                 }));
  plot3 = $.plot(chart3, data3,
                $.extend(true, {}, options3, {
                    xaxis: { min: ranges.xaxis.from, max: ranges.xaxis.to }
                 }));
}
function onZoomOut(e) {
  e.preventDefault();
  plot = $.plot(chart, data, options);
  plot3 = $.plot(chart3, data3, options3);
}
$("#zoomOutBtn").click(onZoomOut);
var data = [
  {
  label: "Battery level (%)",
  yaxis: 1,
  data: [

    [10187290203,100]]
  },
  {
  label: "Battery voltage (mV)",
  yaxis: 2,
  data: [

    [10187290203,0]]
  },
  {
  label: "Battery temperature (C*10)",
  yaxis: 3,
  data: [

    [10187290203,0]]
  },
];
var chart = $("#chart");
var options = {
  selection: { mode: 'x' },
  legend: { position: 'nw', margin: [ -200, 0 ], }, 
  yaxes: [
  {
    labelWidth: 200,
  },
  {
    position: 'right',
  },
  {
    position: 'right',
  },
  ],
  xaxis: {
    mode: "time",
    min: 10187271560,
    max: 10187451769,
  },
  grid: {
    hoverable: true,
    clickable: true,
  }
};
chart.bind("plotselected", onZoomSelection);
chart.bind("plothover", function(event,pos,item) { flotHover(plot,event,pos,item); });
var plot = $.plot(chart, data, options);
fixSize(plot, chart, 800);
var data3 = [
  {
  label: "screen",
  lines: { show: true, fill: true },
  data: [
]
  },
];
var chart3 = $("#chart3");
var options3 = {
  selection: { mode: 'x' },
  legend: { position: 'nw', margin: [ -200, 0 ], }, 
  yaxis: {
    labelWidth: 200,
    ticks: [ ],
  },
  xaxis: {
    show: false,
    min: 10187271560,
    max: 10187451769,
  },
  grid: {
    markings: [
      { xaxis: { from: 10187293278, to: 10187293278}, color: "#80ff80"}, 
      { xaxis: { from: 10187293278, to: 10187293278}, color: "#ffff80"}, 
    ],
  }
};
chart3.bind("plotselected", onZoomSelection);
var plot3 = $.plot(chart3, data3, options3);
fixSize(plot3, chart3, 800);
});
</script>
</body>
</html>
